zone.external.enable_flapping_detect = off
## listener.ssl.external.send_timeout = 15s
sysmon.large_heap = 8MB
zone.internal.enable_stats = on
## CONFIG_SECTION_END=sys_mon 
## cluster.mcast.loop = on
## node.dist_buffer_size = 8MB
#log.overload_kill_qlen = 20000
## listener.wss.external.peer_cert_as_clientid = cn
## listener.ssl.external.proxy_protocol_timeout = 3s
#log.sync_mode_qlen = 100
## zone.external.shared_subscription = false
## listener.ws.external.proxy_port_header = X-Forwarded-Port
#rpc.tcp_client_num = 1
acl_deny_action = ignore
## cluster.k8s.app_name = emqx
# broker.perf.route_lock_type = key
## listener.wss.external.tls_versions = tlsv1.3,tlsv1.2,tlsv1.1,tlsv1
zone.external.enable_acl = on
## listener.ws.external.deflate_opts.strategy = default
#log.formatter = text
listener.tcp.external.acceptors = 8
alarm.size_limit = 1000
listener.ws.external.send_timeout = 15s
listener.tcp.external.nodelay = true
log.rotation = on
#log.burst_limit = 20000, 1s
zone.external.force_gc_policy = 16000|16MB
listener.tcp.internal.backlog = 512
node.cookie = emqxsecretcookie
listener.ws.external.zone = external
zone.external.acl_deny_action = ignore
# broker.perf.trie_compaction = true
sysmon.long_gc = 0
#zone.external.force_shutdown_policy = 10000|64MB
zone.external.mqueue_store_qos0 = true
## zone.internal.mountpoint = cloudbound/
## listener.wss.external.proxy_port_header = X-Forwarded-Port
## zone.external.max_qos_allowed = 2
## listener.wss.external.supported_subprotocols = mqtt, mqtt-v3, mqtt-v3.1.1, mqtt-v5
listener.ws.external.max_connections = 102400
## listener.wss.external.psk_ciphers = PSK-AES128-CBC-SHA,PSK-AES256-CBC-SHA,PSK-3DES-EDE-CBC-SHA,PSK-RC4-SHA
os_mon.cpu_high_watermark = 80%
zone.internal.max_mqueue_len = 200000
listener.wss.external.mqtt_path = /mqtt
## listener.wss.external.proxy_address_header = X-Forwarded-For
listener.ws.external = 8083
broker.sys_interval = 1m
mqtt.ignore_loop_deliver = false
listener.tcp.external.zone = external
## cluster.mcast.iface = 0.0.0.0
#log.overload_kill_restart_after = 5s
## listener.tcp.external.sndbuf = 2KB
#log.drop_mode_qlen = 3000
zone.internal.enable_acl = off
listener.ws.external.max_conn_rate = 1000
## listener.wss.external.verify = verify_peer
rpc.connect_timeout = 5s
## cluster.k8s.service_name = emqx
## cluster.mcast.ttl = 255
module.presence.qos = 1
#zone.internal.force_shutdown_policy = 10000|64MB
cluster.autoclean = 5m
## zone.external.response_information = example
## cluster.static.seeds = emqx1@127.0.0.1,emqx2@127.0.0.1
listener.ws.external.send_timeout_close = on
listener.ws.external.check_origins = http://localhost:18083, http://127.0.0.1:18083
acl_cache_ttl = 1m
listener.tcp.external.active_n = 100
rpc.port_discovery = stateless
listener.wss.external.check_origin_enable = false
listener.ssl.external.certfile = etc/certs/cert.pem
## >= max(val(sndbuf),val(recbuf)) to avoid performance issues because
vm_mon.process_high_watermark = 80%
## listener.ssl.external.nodelay = true
## listener.ws.external.deflate_opts.level = default
zone.internal.max_awaiting_rel = 1000
#log.info.file  = info.log
## Only takes effect when `rpc.port_discovery` = `manual`.
## listener.wss.external.fail_if_no_peer_cert = true
## listener.ssl.external.secure_renegotiate = off
broker.shared_subscription_strategy = random
## module.subscription.1.topic = connected/%c/%u
sysmon.busy_port = false
listener.tcp.internal = 127.0.0.1:11883
## zone.internal.response_information = example
node.data_dir = data
zone.external.mqueue_default_priority = highest
## cluster.etcd.ssl.cacertfile = etc/certs/ca.pem
## cluster.k8s.address_type = ip
log.file = emqx.log
## listener.ssl.external.verify = verify_peer
## listener.wss.external.deflate_opts.client_max_window_bits = 15
## module.subscription.1.nl = 0
## listener.wss.external.proxy_protocol_timeout = 3s
## module.subscription.1.qos = 0
acl_cache_max_size = 32
## listener.ssl.external.honor_cipher_order = on
listener.wss.external.max_conn_rate = 1000
## listener.wss.external.nodelay = true
alarm.actions = log,publish
listener.tcp.external = 0.0.0.0:1883
listener.ws.external.mqtt_path = /mqtt
## listener.wss.external.deflate_opts.server_max_window_bits = 15
listener.ssl.external.zone = external
listener.tcp.external.max_conn_rate = 1000
## listener.wss.external.proxy_protocol = on
os_mon.cpu_low_watermark = 60%
## zone.external.max_clientid_len = 1024
## listener.wss.external.max_frame_size = 0
os_mon.cpu_check_interval = 60s
mqtt.max_qos_allowed = 2
## listener.ssl.external.backlog = 1024
## listener.ws.external.deflate_opts.client_max_window_bits = 15
zone.internal.max_inflight = 300000
zone.internal.allow_anonymous = true
## listener.tcp.internal.tune_buffer = off
## listener.wss.external.recbuf = 4KB
## listener.ws.external.max_frame_size = 0
## listener.ssl.external.cacertfile = etc/certs/cacert.pem
log.level = warning
zone.external.max_subscriptions = 0
listener.tcp.external.access.1 = allow all
## listener.wss.external.deflate_opts.level = default
## zone.external.max_topic_alias = 65535
#log.error.file = error.log
## listener.ws.external.fail_if_no_subprotocol = true
## listener.ws.external.deflate_opts.server_max_window_bits = 15
#rpc.tcp_server_port = 5369
## cluster.dns.app = emqx
## zone.external.max_packet_size = 64KB
rpc.socket_buffer = 1MB
listener.ws.external.check_origin_enable = false
## listener.ws.external.deflate_opts.client_context_takeover = takeover
node.name = ee@172.16.100.155
rpc.async_batch_size = 256
listener.wss.external.ciphers = TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_CHACHA20_POLY1305_SHA256,TLS_AES_128_CCM_SHA256,TLS_AES_128_CCM_8_SHA256,ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA
#zone.external.quota.overall_messages_routing = 200000,1s
cluster.proto_dist = inet_tcp
## Value: Number >= 0
listener.tcp.internal.sndbuf = 64KB
listener.tcp.external.reuseaddr = true
zone.external.upgrade_qos = off
log.dir = log
## listener.tcp.external.tune_buffer = off
## cluster.dns.name = localhost
broker.route_batch_clean = off
## zone.internal.force_gc_policy = 128000|128MB
## listener.wss.external.buffer = 4KB
listener.wss.external.max_connections = 102400
rpc.send_timeout = 5s
listener.wss.external.backlog = 1024
zone.internal.enable_flapping_detect = off
## listener.wss.external.compress = true
## listener.ws.external.proxy_address_header = X-Forwarded-For
zone.external.ignore_loop_deliver = false
## node.max_ports = 1048576
## node.dist_net_ticktime = 120
## node.max_ets_tables = 262144
zone.external.mqueue_priorities = none
## listener.ws.external.idle_timeout = 60s
vm_mon.check_interval = 30s
## listener.ssl.external.send_timeout_close = on
## node.process_limit = 2097152
node.async_threads = 128
listener.ssl.external.keyfile = etc/certs/key.pem
plugins.etc_dir = etc/plugins/
## zone.external.mountpoint = devicebound/
## listener.wss.external.deflate_opts.client_context_takeover = takeover
## node.fullsweep_after = 1000
## listener.ssl.external.proxy_protocol = on
## listener.ws.external.recbuf = 2KB
#log.single_line = true
listener.wss.external.send_timeout = 15s
listener.wss.external.mqtt_piggyback = multiple
## cluster.k8s.apiserver = http://10.110.111.204:8080
## listener.tcp.external.high_watermark = 1MB
listener.wss.external.allow_origin_absence = true
## CONFIG_SECTION_BGN=sys_mon 
## listener.ws.external.deflate_opts.mem_level = 8
## cluster.etcd.server = http://127.0.0.1:2379
## listener.tcp.internal.buffer = 16KB
listener.ssl.external.max_connections = 102400
rpc.call_receive_timeout = 15s
rpc.socket_keepalive_count = 9
listener.ssl.external.handshake_timeout = 15s
## module.subscription.1.rh = 0
## listener.ssl.external.tls_versions = tlsv1.3,tlsv1.2,tlsv1.1,tlsv1
## set `listener.ws.external.check_origin_enable = true`. By default it is false,
## listener.wss.external.deflate_opts.strategy = default
## module.subscription.1.rap = 0
sysmon.long_schedule = 240ms
## node.ssl_dist_optfile = etc/ssl_dist.conf
listener.tcp.internal.acceptors = 4
listener.tcp.internal.send_timeout = 5s
log.to = file
## listener.tcp.external.peer_cert_as_clientid = cn
mqtt.retain_available = true
node.dist_listen_min = 6369
rpc.socket_recbuf = 1MB
acl_file = etc/acl.conf
## cluster.etcd.ssl.certfile = etc/certs/client.pem
listener.ws.external.mqtt_piggyback = multiple
zone.internal.mqueue_store_qos0 = true
listener.wss.external.keyfile = etc/certs/key.pem
mqtt.max_topic_alias = 65535
## listener.ws.external.proxy_protocol = on
listener.ws.external.allow_origin_absence = true
## listener.ssl.external.buffer = 4KB
allow_anonymous = false
mqtt.max_packet_size = 1MB
mqtt.max_topic_levels = 0
rpc.mode = async
zone.external.max_mqueue_len = 200000
## listener.ws.external.buffer = 2KB
listener.wss.external.check_origins = https://localhost:8084, https://127.0.0.1:8084
## cluster.k8s.namespace = default
os_mon.sysmem_high_watermark = 70%
## cluster.mcast.addr = 239.192.0.1
listener.tcp.external.max_connections = 1024000
listener.tcp.internal.reuseaddr = true
#log.overload_kill = on
## node.heartbeat = on
cluster.name = emqxcl
zone.external.retry_interval = 30s
#zone.external.conn_congestion.min_alarm_sustain_duration = 1m
listener.ssl.external.access.1 = allow all
## listener.wss.external.peer_cert_as_username = cn
listener.ssl.external.acceptors = 16
listener.wss.external.zone = external
log.rotation.size = 10MB
## Example: topic/1=10,topic/2
listener.tcp.internal.recbuf = 64KB
zone.external.max_inflight = 300000
broker.sys_heartbeat = 30s
## listener.ssl.external.sndbuf = 4KB
broker.session_locking_strategy = quorum
enable_acl_cache = on
## listener.ws.external.supported_subprotocols = mqtt, mqtt-v3, mqtt-v3.1.1, mqtt-v5
zone.external.await_rel_timeout = 300s
listener.tcp.internal.max_conn_rate = 1000
broker.shared_dispatch_ack_enabled = false
#log.max_depth = 100
## zone.external.wildcard_subscription = false
zone.external.strict_mode = false
acl_nomatch = allow
## zone.external.server_keepalive = 0
listener.ssl.external = 8883
## listener.ws.external.sndbuf = 2KB
cluster.discovery = manual
zone.external.keepalive_backoff = 0.75
## listener.ws.external.compress = true
listener.ssl.external.reuseaddr = true
## zone.internal.wildcard_subscription = true
## listener.wss.external.honor_cipher_order = on
node.global_gc_interval = 15m
rpc.socket_sndbuf = 1MB
listener.tcp.internal.send_timeout_close = on
## zone.internal.shared_subscription = true
listener.tcp.internal.zone = internal
## module.rewrite.pub.rule.1 = x/# ^x/y/(.+)$ z/y/$1
mqtt.strict_mode = false
## listener.ws.external.tune_buffer = off
## listener.wss.external.sndbuf = 4KB
rpc.socket_keepalive_interval = 75s
vm_mon.process_low_watermark = 60%
mqtt.max_clientid_len = 65535
listener.tcp.internal.nodelay = false
listener.wss.external.active_n = 100
mqtt.shared_subscription = true
## listener.wss.external.depth = 10
listener.tcp.external.send_timeout_close = on
listener.ws.external.active_n = 100
listener.tcp.external.backlog = 1024
modules.loaded_file = data/loaded_modules
zone.external.max_awaiting_rel = 100
#zone.external.conn_congestion.alarm = off
## set `listener.ws.external.allow_origin_absence = true`
## listener.ws.external.check_origins = http://localhost:18083(localhost dashboard url), http://yourapp.com`
zone.external.session_expiry_interval = 2h
#log.chars_limit = 8192
zone.external.idle_timeout = 15s
listener.wss.external.access.1 = allow all
listener.ssl.external.ciphers = TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_CHACHA20_POLY1305_SHA256,TLS_AES_128_CCM_SHA256,TLS_AES_128_CCM_8_SHA256,ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA
## listener.wss.external.secure_renegotiate = off
## cluster.etcd.prefix = emqxcl
node.crash_dump = log/crash.dump
listener.tcp.internal.active_n = 1000
node.backtrace_depth = 16
zone.internal.max_subscriptions = 0
## cluster.mcast.ports = 4369,4370
## listener.wss.external.reuse_sessions = on
#zone.external.rate_limit.conn_bytes_in = 100KB,10s
## listener.ssl.external.dhfile = etc/certs/dh-params.pem
## listener.tcp.external.buffer = 2KB
zone.internal.ignore_loop_deliver = false
listener.tcp.external.send_timeout = 15s
listener.wss.external.certfile = etc/certs/cert.pem
#log.flush_qlen = 8000
## listener.tcp.external.proxy_protocol_timeout = 3s
## module.rewrite.sub.rule.1 = y/+/z/# ^y/(.+)/z/(.+)$ y/z/$2
## zone.external.max_topic_levels = 7
listener.ws.external.nodelay = true
## cluster.etcd.ssl.keyfile = etc/certs/client-key.pem
## mqtt.response_information = example
zone.external.use_username_as_clientid = false
## listener.ssl.external.depth = 10
## listener.wss.external.cacertfile = etc/certs/cacert.pem
## listener.ssl.external.reuse_sessions = on
plugins.loaded_file = data/loaded_plugins
listener.tcp.internal.max_connections = 1024000
## listener.wss.external.idle_timeout = 60s
listener.ws.external.access.1 = allow all
zone.external.enable_stats = on
zone.internal.acl_deny_action = ignore
log.rotation.count = 5
## zone.external.retain_available = true
## Sets the 'buffer = max(sndbuf, recbuf)' if this option is enabled.
listener.wss.external.acceptors = 4
node.dist_listen_max = 6369
## cluster.k8s.suffix = pod.cluster.local
## Default = 1
#listener.ssl.external.psk_ciphers = PSK-AES128-CBC-SHA,PSK-AES256-CBC-SHA,PSK-3DES-EDE-CBC-SHA,PSK-RC4-SHA
plugins.expand_plugins_dir = etc/plugins/
## cluster.etcd.node_ttl = 1m
#zone.external.rate_limit.conn_messages_in = 100,10s
## listener.ws.external.peer_cert_as_clientid = cn
## Format: log.$level.file = $filename,
sysmon.busy_dist_port = true
## listener.ssl.external.recbuf = 4KB
## listener.wss.external.fail_if_no_subprotocol = true
alarm.validity_period = 24h
## NOTE: RPC batch won't work when rpc.mode = sync
zone.internal.bypass_auth_plugins = true
zone.external.enable_ban = on
flapping_detect_policy = 30, 1m, 5m
## listener.ssl.external.peer_cert_as_clientid = cn
listener.wss.external.send_timeout_close = on
## listener.ssl.external.fail_if_no_peer_cert = true
rpc.socket_keepalive_idle = 900s
#log.overload_kill_mem_size = 30MB
## listener.ws.external.proxy_protocol_timeout = 3s
## listener.ws.external.deflate_opts.server_context_takeover = takeover
## listener.ssl.external.peer_cert_as_username = cn
listener.ws.external.backlog = 1024
## listener.wss.external.key_password = yourpass
## listener.ssl.external.tune_buffer = off
os_mon.procmem_high_watermark = 5%
listener.wss.external = 8084
cluster.autoheal = on
mqtt.wildcard_subscription = true
## listener.wss.external.deflate_opts.mem_level = 8
listener.ssl.external.active_n = 100
## listener.ws.external.peer_cert_as_username = cn
## listener.tcp.external.peer_cert_as_username = cn
#zone.external.quota.conn_messages_routing = 100,1s
## listener.wss.external.deflate_opts.server_context_takeover = takeover
zone.internal.strict_mode = false
os_mon.mem_check_interval = 60s
## listener.tcp.external.proxy_protocol = on
## listener.ssl.external.key_password = yourpass
rpc.authentication_timeout = 5s
listener.ssl.external.max_conn_rate = 500
listener.ws.external.acceptors = 4
## listener.tcp.external.recbuf = 2KB
